AWSTemplateFormatVersion: '2010-09-09'
Transform: AWS::Serverless-2016-10-31
Resources:
  MyFunction:
    Type: AWS::Serverless::Function
    Properties:
      CodeUri: C:/ProgramData/Jenkins/.jenkins/workspace/jenkins-lambda/python.zip
      Handler: lambda_function.lambda_handler
      Runtime: python3.9
      MemorySize: 128
      Timeout: 10
      Role: !GetAtt [LambdaExecutionRole, Arn]
      Events:
        MyApi:
          Type: Api
          Properties:
            Path: /my-api
            Method: GET
  MyApi:
    Type: AWS::Serverless::Api
    Properties:
      StageName: prod
Outputs:
  ApiUrl:
    Value: !Sub "https://${MyApi}.execute-api.${AWS::Region}.amazonaws.com/prod/my-api/"
# AWSTemplateFormatVersion: '2010-09-09'
# Transform: AWS::Serverless-2016-10-31
# Description: 'sam-app

#   Sample SAM Template for sam-app

#   '
# Globals:
#   Function:
#     Timeout: 3
#     MemorySize: 128
# Resources:
#   HelloWorldFunction:
#     Type: AWS::Serverless::Function
#     Properties:
#       CodeUri: ./python.zip
#       Handler: app.lambda_handler
#       Runtime: python3.9
#       Architectures:
#         - x86_64
#       Events:
#         HelloWorld:
#           Type: Api
#           Properties:
#             Path: /hello
#             Method: get
#     Metadata:
#       SamResourceId: HelloWorldFunction
# Outputs:
#   HelloWorldApi:
#     Description: API Gateway endpoint URL for Prod stage for Hello World function
#     Value:
#       Fn::Sub: https://${ServerlessRestApi}.execute-api.${AWS::Region}.amazonaws.com/Prod/hello/
#   HelloWorldFunction:
#     Description: Hello World Lambda Function ARN
#     Value:
#       Fn::GetAtt:
#         - HelloWorldFunction
#         - Arn
#   HelloWorldFunctionIamRole:
#     Description: Implicit IAM Role created for Hello World function
#     Value:
#       Fn::GetAtt:
#         - HelloWorldFunctionRole
#         - Arn